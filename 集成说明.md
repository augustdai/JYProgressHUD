# JYProgressHUD 集成说明

## 📦 集成到项目

### 方法一：直接集成（推荐用于测试）

1. **复制文件**
   - 将 `JYProgressHUD` 文件夹拖入你的 Xcode 项目
   - 确保选择 "Copy items if needed"
   - 确保所有文件都添加到 Target

2. **导入模块**
   ```swift
   import JYProgressHUD
   ```

3. **开始使用**
   ```swift
   let hud = JYProgressHUD.show(on: view, animated: true)
   hud.label.text = "加载中..."
   ```

### 方法二：使用 CocoaPods（推荐用于生产环境）

1. **创建 Podfile**（如果还没有）
   ```bash
   cd /path/to/your/project
   pod init
   ```

2. **编辑 Podfile**
   ```ruby
   platform :ios, '17.0'
   
   target 'YourApp' do
     # 如果 JYProgressHUD 在本地
     pod 'JYProgressHUD', :path => '../JYProgressHUD'
     
     # 或者如果已发布到 CocoaPods
     # pod 'JYProgressHUD', '~> 1.0.0'
   end
   ```

3. **安装**
   ```bash
   pod install
   ```

4. **使用**
   - 打开 `.xcworkspace` 文件（不是 `.xcodeproj`）
   - 导入：`import JYProgressHUD`

## 🧪 添加测试代码

### 快速测试

1. **使用测试项目**
   - 项目已包含完整的测试项目，位于 `test/` 目录
   - 可以直接打开 `test/test.xcodeproj` 运行测试

2. **在现有项目中测试**
   
   在你的 `SceneDelegate.swift` 中（iOS 13+）：
   ```swift
   import UIKit
   
   func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {
       guard let windowScene = (scene as? UIWindowScene) else { return }
       
       let window = UIWindow(windowScene: windowScene)
       let viewController = ViewController()  // 你的测试视图控制器
       let nav = UINavigationController(rootViewController: viewController)
       window.rootViewController = nav
       self.window = window
       window.makeKeyAndVisible()
   }
   ```
   
   或者在 `AppDelegate.swift` 中（仅 iOS 12 及以下，不推荐）：
   ```swift
   import UIKit
   
   @main
   class AppDelegate: UIResponder, UIApplicationDelegate {
       var window: UIWindow?
       
       func application(_ application: UIApplication, 
                        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
           
           // iOS 13+ 使用 SceneDelegate，这里只处理 iOS 12 及以下
           if #available(iOS 13.0, *) {
               return true
           }
           
           // iOS 12 及以下：创建窗口（不推荐，iOS 17.0+ 项目应使用 SceneDelegate）
           window = UIWindow(frame: UIScreen.main.bounds)
           let viewController = ViewController()
           let nav = UINavigationController(rootViewController: viewController)
           window?.rootViewController = nav
           window?.makeKeyAndVisible()
           
           return true
       }
   }
   ```

3. **运行项目**
   - 点击不同的按钮测试各项功能

### 在现有代码中测试

在你的 ViewController 中添加：

```swift
import UIKit
import JYProgressHUD

class ViewController: UIViewController {
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        // 添加测试按钮
        let button = UIButton(type: .system)
        button.setTitle("测试 HUD", for: .normal)
        button.frame = CGRect(x: 100, y: 200, width: 200, height: 44)
        button.addTarget(self, action: #selector(testHUD), for: .touchUpInside)
        view.addSubview(button)
    }
    
    @objc func testHUD() {
        // 基本测试
        let hud = JYProgressHUD.show(on: view, animated: true)
        hud.label.text = "测试中..."
        
        DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
            hud.hide(animated: true)
        }
    }
}
```

## ✅ 验证集成

### 检查清单

- [ ] 项目能正常编译
- [ ] 没有编译错误或警告
- [ ] 可以导入 `JYProgressHUD`
- [ ] 可以创建 `JYProgressHUD` 实例
- [ ] HUD 能正常显示
- [ ] HUD 能正常隐藏

### 快速验证代码

```swift
// 在 viewDidLoad 或按钮点击事件中添加
let hud = JYProgressHUD.show(on: view, animated: true)
hud.label.text = "集成成功！"

DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
    hud.hide(animated: true)
}
```

如果能看到 HUD 显示，说明集成成功！

## 🔧 常见问题

### 问题 1: 找不到模块 'JYProgressHUD'

**解决方案：**
- 确保所有 Swift 文件都添加到 Target
- 检查 Build Settings 中的 Swift Compiler 设置
- 如果是 CocoaPods，确保使用 `.xcworkspace` 打开项目

### 问题 2: 编译错误

**解决方案：**
- 确保 iOS 部署目标 >= 17.0
- 确保 Swift 版本 >= 5.9
- 检查是否有语法错误

### 问题 3: HUD 不显示

**解决方案：**
- 确保在主线程调用
- 确保视图已添加到视图层次结构
- 检查视图的 frame 是否正确

### 问题 4: 动画不流畅

**解决方案：**
- 确保在主线程执行
- 检查是否有其他动画冲突
- 尝试不同的动画类型

## 📚 下一步

1. ✅ 完成集成
2. ✅ 运行测试代码
3. 📖 阅读 [README.md](README.md) 了解详细用法
4. 🧪 查看 [test/README.md](test/README.md) 了解测试方法
5. 💻 在你的项目中使用

## 📞 需要帮助？

- 查看 `集成说明.md` 了解详细测试方法
- 查看 `项目结构说明.md` 了解项目结构

---

**提示**: 建议先在测试项目中验证功能，确认无误后再集成到主项目。

